Adding top-level Makefile to lay out files for
debian packaging
--- /dev/null
+++ b/Makefile
@@ -0,0 +1,38 @@
+PROTOS=server/wire/hello.proto \
+	server/wire/terrain.proto \
+	server/wire/entity.proto \
+	server/wire/model.proto \
+	server/wire/major.proto
+
+PROTO_OUT=server/src/.out
+PROTO_SOURCES=$(patsubst server/wire/%.proto,$(PROTO_OUT)/wire/%.pb.cc,$(PROTOS))
+PROTO_H_FILES=$(patsubst $(PROTO_OUT)/wire/%.cc,$(PROTO_OUT)/wire/%.h,$(PROTO_SOURCES))
+
+all:: $(PROTO_SOURCES) $(PROTO_H_FILES) hexcom/libhexcom.a client/native/hc
+
+
+$(PROTO_OUT)/wire/%.pb.cc $(PROTO_OUT)/wire/%.pb.h: server/wire/%.proto
+	@mkdir -p $(PROTO_OUT)
+	protoc -Iserver/ --cpp_out=$(PROTO_OUT) $<
+
+hexcom/libhexcom.a:
+	make -C hexcom
+
+client/native/hc:
+	make -C client/native
+
+DESTDIR=
+BIN=$(DESTDIR)/usr/games
+VAR=$(DESTDIR)/var/games
+SHARE=$(DESTDIR)/usr/share/games/hexplore
+
+install::
+	@mkdir -p $(BIN) $(SHARE)
+	make -C client/native BIN=`readlink -f $(BIN)` ASSETDIR=`readlink -f $(SHARE)` \
+		install
+
+clean::
+	make -C hexcom clean
+	rm -rf server/src/.out
+	rm -rf client/native/.out client/native/hc
+	rm -rf .out
--- a/client/native/Makefile
+++ b/client/native/Makefile
@@ -54,7 +54,7 @@
 	g++ $(CFLAGS) -MD -c $< -o $@
 
 clean::
-	rm -rf $(OUT) hc
+	rm -rf $(OUT) hc orbit
 
 
 -include $(OUT)/*.d
--- a/hexcom/Makefile
+++ b/hexcom/Makefile
@@ -18,6 +18,9 @@
 
 clean::
 	rm -f $(OFILES)
+	rm -f *.d
+	rm -f libhexcom.a
+
 
 -include *.d
 
